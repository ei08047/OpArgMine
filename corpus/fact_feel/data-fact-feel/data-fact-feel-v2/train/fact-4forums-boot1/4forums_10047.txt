Sometimes God allows Satan to cause suffering to His people and to Christians in order for them to grow stronger and as a form of punishment. Note that God didn't decide he wanted the Israelites to suffer on the spur of the moment. It was their constant disobedience that put them in the situtations they were in.