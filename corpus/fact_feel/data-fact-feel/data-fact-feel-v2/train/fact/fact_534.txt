Well... so far eight out of nine state supreme courts that have taken up the issue have found that barring same-sex marriage is unconstitutional.
We're waiting to hear about three or four more.
As for the nature of marriage, it is both a legal contract and (sometimes) a religious ceremony (sacrament in some religions). We're stuck with the duality, whether we like it or not, and the courts can and must deal with the legal aspect. Different religions can do what they want.