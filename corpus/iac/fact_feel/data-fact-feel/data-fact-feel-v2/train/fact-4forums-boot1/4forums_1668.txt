I think some of the courts that have quoted that sentence from Heller to justify laws that ban felons from owning firearms would disagree.   Longstanding prohibitions  in the sentence I quoted from Heller refers to restrictions on felons and the mentally ill not laws forbidding the carrying of concealed weapons in school areas. The last part of that sentence is interesting. It talks about  laws imposing conditions and qualifications on the commercial sale of arms . I know that some have interpreted that part to mean that the Supreme Court is okay with such restrictions as one gun a month laws, waiting periods, and backgrounds checks. It's certainly something to think about.